(function (e) {
  'object' == typeof exports && 'object' == typeof module
    ? e(require('../../lib/codemirror'), require('../../mode/css/css'))
    : 'function' == typeof define && define.amd
    ? define(['../../lib/codemirror', '../../mode/css/css'], e)
    : e(CodeMirror);
})(function (e) {
  'use strict';
  var t = {
    active: 1,
    after: 1,
    before: 1,
    checked: 1,
    default: 1,
    disabled: 1,
    empty: 1,
    enabled: 1,
    'first-child': 1,
    'first-letter': 1,
    'first-line': 1,
    'first-of-type': 1,
    focus: 1,
    hover: 1,
    'in-range': 1,
    indeterminate: 1,
    invalid: 1,
    lang: 1,
    'last-child': 1,
    'last-of-type': 1,
    link: 1,
    not: 1,
    'nth-child': 1,
    'nth-last-child': 1,
    'nth-last-of-type': 1,
    'nth-of-type': 1,
    'only-of-type': 1,
    'only-child': 1,
    optional: 1,
    'out-of-range': 1,
    placeholder: 1,
    'read-only': 1,
    'read-write': 1,
    required: 1,
    root: 1,
    selection: 1,
    target: 1,
    valid: 1,
    visited: 1,
  };
  e.registerHelper('hint', 'css', function (r) {
    function o(e) {
      for (var t in e) (l && 0 != t.lastIndexOf(l, 0)) || f.push(t);
    }
    var i = r.getCursor(),
      s = r.getTokenAt(i),
      n = e.innerMode(r.getMode(), s.state);
    if ('css' == n.mode.name) {
      if ('keyword' == s.type && 0 == '!important'.indexOf(s.string))
        return {
          list: ['!important'],
          from: e.Pos(i.line, s.start),
          to: e.Pos(i.line, s.end),
        };
      var a = s.start,
        d = i.ch,
        l = s.string.slice(0, d - a);
      /[^\w$_-]/.test(l) && ((l = ''), (a = d = i.ch));
      var c = e.resolveMode('text/css'),
        f = [],
        p = n.state.state;
      return (
        'pseudo' == p || 'variable-3' == s.type
          ? o(t)
          : 'block' == p || 'maybeprop' == p
          ? o(c.propertyKeywords)
          : 'prop' == p || 'parens' == p || 'at' == p || 'params' == p
          ? (o(c.valueKeywords), o(c.colorKeywords))
          : ('media' != p && 'media_parens' != p) ||
            (o(c.mediaTypes), o(c.mediaFeatures)),
        f.length
          ? { list: f, from: e.Pos(i.line, a), to: e.Pos(i.line, d) }
          : void 0
      );
    }
  });
});
